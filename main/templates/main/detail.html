{% extends 'base.html' %}

{% load static %}

{% block content %}

<h1 style="font-family: scd3;">{{post.title}}</h1>
{% if post.writer %}
    {% if 'user' in post.writer.username %}
        <h3 style="font-family: scd2; font-size: 19px;">작성자 : {{ post.writer.last_name }}{{ post.writer.first_name }}</h3>
    {% else %}
        <h3 style="font-family: scd2; font-size: 19px;">작성자 : {{ post.writer }}</h3>
    {% endif %}
{% else %}
<h3 style="font-family: scd2; font-size: 19px;">작성자 : 알 수 없음</h3>
{% endif %}

<p style="font-family: scd2; font-size: 19px;">날짜 : {{post.pub_date}}</p>

{% if post.image %}
    <p><img src="{{ post.image.url }}" alt="사진"></p>
{% endif %}

<hr>
<p style="font-family: 'scd2'; font-size: 19px;">{{post.body}}</p><hr>
<div>
    <form action="{%url 'main:create_comment' post.id%}" method="POST">
        {%csrf_token%}
        <textarea name="content" style="font-family: 'scd3'; font-size: 19px;" placeholder="댓글내용입력"></textarea>
        <input type="submit" style="font-family: 'scd2'; font-size: 19px;"  value="확인">
        <a href="{% url 'main:edit' post.id %}" style="font-family: 'scd3'; font-size: 15px; text-decoration: none;" >수정하기</a>
        <a href="{% url 'main:delete' post.id %}" style="font-family: 'scd3'; font-size: 15px;text-decoration: none;">| 삭제하기</a>
        <hr>
    </form>
</div>

<div>
    {% for comment in comments %}
    <div style="font-family: 'scd2'; font-size: 19px;">
        {% if 'user' in comment.writer.username %}
            작성자 : {{comment.writer.last_name}}{{comment.writer.first_name}}
            {% else %}
            작성자: {{comment.writer}}
            {% endif %}     <br>   {{comment.content}}
            <br> {{comment.created_at}}
            <a href="{% url 'main:edit_comment' comment.id %}" style="font-family: 'scd3'; font-size: 15px;text-decoration: none;"><br>댓글 수정</a>
            <a href="{% url 'main:delete_comment' comment.id %}" style="font-family: 'scd3'; font-size: 15px;text-decoration: none;">| 댓글 삭제</a>
        <br><hr>
    </div>
    {% endfor %}
</div>

{% endblock %}

